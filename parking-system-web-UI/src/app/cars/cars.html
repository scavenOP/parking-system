<section class="cars-section">
  <div class="container">
    <div class="section-header">
      <h2>My Vehicles</h2>
      <button class="btn-primary" (click)="showAddForm = !showAddForm">
        <span *ngIf="!showAddForm">+ Add Vehicle</span>
        <span *ngIf="showAddForm">Cancel</span>
      </button>
    </div>

    <!-- Add Car Form -->
    <div class="add-car-form" *ngIf="showAddForm" [@slideDown]>
      <h3>Add New Vehicle</h3>
      <form [formGroup]="carForm" (ngSubmit)="onSubmit()" class="car-form">
        <div class="form-row">
          <div class="form-group">
            <input type="text" placeholder="Make (e.g., Toyota)" formControlName="make" required>
            <span class="form-bar"></span>
          </div>
          <div class="form-group">
            <input type="text" placeholder="Model (e.g., Camry)" formControlName="model" required>
            <span class="form-bar"></span>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <input type="number" placeholder="Year" formControlName="year" [min]="1900" [max]="currentYear + 1" required>
            <span class="form-bar"></span>
          </div>
          <div class="form-group">
            <input type="text" placeholder="Color" formControlName="color" required>
            <span class="form-bar"></span>
          </div>
        </div>
        
        <div class="form-group">
          <input type="text" placeholder="License Plate" formControlName="licensePlate" required>
          <span class="form-bar"></span>
        </div>
        
        <button type="submit" class="submit-btn" [disabled]="carForm.invalid || isSubmitting">
          <span *ngIf="!isSubmitting">Add Vehicle</span>
          <span *ngIf="isSubmitting">Adding...</span>
        </button>
      </form>
    </div>

    <!-- Cars Grid -->
    <div class="cars-grid" *ngIf="cars.length > 0">
      <div class="car-card" *ngFor="let car of cars" [@fadeInUp]>
        <div class="car-header">
          <h4>{{car.make}} {{car.model}}</h4>
          <span class="car-year">{{car.year}}</span>
        </div>
        <div class="car-details">
          <div class="detail-item">
            <span class="label">Color:</span>
            <span class="value">{{car.color}}</span>
          </div>
          <div class="detail-item">
            <span class="label">License:</span>
            <span class="value license-plate">{{car.licensePlate}}</span>
          </div>
        </div>
        <div class="car-actions">
          <button class="btn-secondary" (click)="editCar(car)">Edit</button>
          <button class="btn-danger" (click)="removeCar(car._id!)">Remove</button>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div class="empty-state" *ngIf="cars.length === 0 && !showAddForm">
      <div class="empty-icon">ðŸš—</div>
      <h3>No vehicles added yet</h3>
      <p>Add your first vehicle to start booking parking spaces</p>
      <button class="btn-primary" (click)="showAddForm = true">Add Your First Vehicle</button>
    </div>
  </div>
</section>