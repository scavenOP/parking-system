<section class="settings">
  <div class="container">
    <div class="header">
      <h2>‚öôÔ∏è Account Settings</h2>
      <p>Manage your account preferences and security</p>
    </div>

    <div class="settings-grid">
      <!-- Profile Settings -->
      <div class="settings-card">
        <div class="card-header">
          <h3>üë§ Profile Information</h3>
        </div>
        
        <div class="card-body">
          <div class="form-group">
            <label>Name</label>
            <input type="text" [(ngModel)]="userProfile.name" class="form-input">
          </div>
          
          <div class="form-group">
            <label>Email</label>
            <input type="email" [(ngModel)]="userProfile.email" class="form-input" readonly>
          </div>
          
          <div class="form-group">
            <label>Phone</label>
            <input type="tel" [(ngModel)]="userProfile.phone" class="form-input" placeholder="Enter phone number">
          </div>
          
          <div class="form-group">
            <label>Address</label>
            <textarea [(ngModel)]="userProfile.address" class="form-input" rows="3"></textarea>
          </div>
          
          <button class="btn-save" (click)="updateProfile()" [disabled]="isUpdating">
            {{isUpdating ? 'Updating...' : 'Update Profile'}}
          </button>
        </div>
      </div>

      <!-- Notification Settings -->
      <div class="settings-card">
        <div class="card-header">
          <h3>üîî Notifications</h3>
        </div>
        
        <div class="card-body">
          <div class="toggle-group">
            <label class="toggle-label">
              <input type="checkbox" [(ngModel)]="notifications.email" class="toggle-input">
              <span class="toggle-slider"></span>
              Email Notifications
            </label>
            <p class="toggle-desc">Receive booking confirmations and updates via email</p>
          </div>
          
          <div class="toggle-group">
            <label class="toggle-label">
              <input type="checkbox" [(ngModel)]="notifications.sms" class="toggle-input">
              <span class="toggle-slider"></span>
              SMS Notifications
            </label>
            <p class="toggle-desc">Get text messages for important updates</p>
          </div>
          
          <div class="toggle-group">
            <label class="toggle-label">
              <input type="checkbox" [(ngModel)]="notifications.reminders" class="toggle-input">
              <span class="toggle-slider"></span>
              Booking Reminders
            </label>
            <p class="toggle-desc">Receive reminders before your parking expires</p>
          </div>
          
          <button class="btn-save" (click)="updateNotifications()">
            Save Notification Settings
          </button>
        </div>
      </div>

      <!-- Security Settings -->
      <div class="settings-card">
        <div class="card-header">
          <h3>üîí Security</h3>
        </div>
        
        <div class="card-body">
          <div class="form-group">
            <label>Current Password</label>
            <input type="password" [(ngModel)]="passwordForm.current" class="form-input" [class.error]="passwordErrors.current">
            <div class="error-message" *ngIf="passwordErrors.current">{{passwordErrors.current}}</div>
          </div>
          
          <div class="form-group">
            <label>New Password</label>
            <input type="password" [(ngModel)]="passwordForm.new" class="form-input" [class.error]="passwordErrors.new">
            <div class="error-message" *ngIf="passwordErrors.new">{{passwordErrors.new}}</div>
            <div class="password-requirements">
              <small>Password requirement:</small>
              <ul>
                <li [class.valid]="passwordForm.new.length >= 6">At least 6 characters</li>
              </ul>
            </div>
          </div>
          
          <div class="form-group">
            <label>Confirm New Password</label>
            <input type="password" [(ngModel)]="passwordForm.confirm" class="form-input" [class.error]="passwordErrors.confirm">
            <div class="error-message" *ngIf="passwordErrors.confirm">{{passwordErrors.confirm}}</div>
          </div>
          
          <div class="error-message" *ngIf="passwordErrors.general">{{passwordErrors.general}}</div>
          
          <button class="btn-save" (click)="changePassword()" [disabled]="isChangingPassword">
            {{isChangingPassword ? 'Changing Password...' : 'Change Password'}}
          </button>
          
          <div class="security-actions">
            <button class="btn-danger" (click)="logout()">
              üö™ Logout from All Devices
            </button>
          </div>
        </div>
      </div>

      <!-- App Preferences -->
      <div class="settings-card">
        <div class="card-header">
          <h3>üé® Preferences</h3>
        </div>
        
        <div class="card-body">
          <div class="form-group">
            <label>Default Search Location</label>
            <input type="text" [(ngModel)]="preferences.defaultLocation" class="form-input" placeholder="Enter default location">
          </div>
          
          <div class="form-group">
            <label>Preferred Payment Method</label>
            <select [(ngModel)]="preferences.paymentMethod" class="form-input">
              <option value="card">Credit/Debit Card</option>
              <option value="upi">UPI</option>
              <option value="wallet">Wallet</option>
            </select>
          </div>
          
          <div class="toggle-group">
            <label class="toggle-label">
              <input type="checkbox" [(ngModel)]="preferences.autoExtend" class="toggle-input">
              <span class="toggle-slider"></span>
              Auto-extend Parking
            </label>
            <p class="toggle-desc">Automatically extend parking when time is about to expire</p>
          </div>
          
          <button class="btn-save" (click)="updatePreferences()">
            Save Preferences
          </button>
        </div>
      </div>
    </div>

    <!-- Danger Zone -->
    <div class="danger-zone">
      <h3>‚ö†Ô∏è Danger Zone</h3>
      <p>These actions cannot be undone. Please be careful.</p>
      
      <div class="danger-actions">
        <button class="btn-danger" (click)="clearData()">
          üóëÔ∏è Clear All Data
        </button>
        
        <button class="btn-danger" (click)="deleteAccount()">
          ‚ùå Delete Account
        </button>
      </div>
    </div>
  </div>
</section>